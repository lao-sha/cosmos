# COSMOS Frontend è®¾è®¡å¼€å‘è·¯çº¿å›¾

> åŸºäº FRONTEND_DEV_GUIDE.md è§„åˆ’ | ç‰ˆæœ¬ 1.0

---

## ä¸€ã€é¡¹ç›®åˆå§‹åŒ–ï¼ˆWeek 1ï¼‰

### 1.1 ç¯å¢ƒæ­å»º

```bash
# åˆ›å»º Expo é¡¹ç›®
npx create-expo-app@latest cosmos-app --template tabs

# å®‰è£…æ ¸å¿ƒä¾èµ–
npm install @polkadot/api @polkadot/keyring @polkadot/util-crypto
npm install zustand @tanstack/react-query
npm install lucide-react-native react-native-reanimated
```

### 1.2 ç›®å½•ç»“æ„åˆ›å»º

```
frontend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (tabs)/
â”‚   â”‚   â”œâ”€â”€ _layout.tsx
â”‚   â”‚   â”œâ”€â”€ index.tsx        # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ wallet.tsx       # é’±åŒ…
â”‚   â”‚   â”œâ”€â”€ discover.tsx     # å‘ç°
â”‚   â”‚   â””â”€â”€ profile.tsx      # æˆ‘çš„
â”‚   â””â”€â”€ _layout.tsx
â”œâ”€â”€ components/
â”‚   â””â”€â”€ ui/
â”œâ”€â”€ constants/
â”‚   â””â”€â”€ colors.ts            # é¢œè‰²é…ç½®
â”œâ”€â”€ hooks/
â”œâ”€â”€ services/
â”œâ”€â”€ stores/
â””â”€â”€ lib/
```

### 1.3 åŸºç¡€é…ç½®

| ä»»åŠ¡ | æ–‡ä»¶ | è¯´æ˜ |
|------|------|------|
| é¢œè‰²ç³»ç»Ÿ | `constants/colors.ts` | å¯¼å…¥ UI_COLORS.md |
| ä¸»é¢˜é…ç½® | `hooks/useColors.ts` | äº®/æš—æ¨¡å¼åˆ‡æ¢ |
| API è¿æ¥ | `services/api.ts` | Polkadot WebSocket |
| Query é…ç½® | `lib/queryClient.ts` | TanStack Query |

---

## äºŒã€æ ¸å¿ƒåŸºç¡€è®¾æ–½ï¼ˆWeek 2-3ï¼‰

### 2.1 é’±åŒ…æ¨¡å— ğŸ”‘

**ä¼˜å…ˆçº§**: P0 | **è·¯ç”±**: `/wallet/`

| æ­¥éª¤ | ä»»åŠ¡ | æŠ€æœ¯ç‚¹ |
|------|------|--------|
| 1 | åˆ›å»ºé’±åŒ… UI | åŠ©è®°è¯ç”Ÿæˆã€ç¡®è®¤é¡µ |
| 2 | å¯¼å…¥é’±åŒ… | åŠ©è®°è¯/ç§é’¥å¯¼å…¥ |
| 3 | é’±åŒ…çŠ¶æ€ | `stores/wallet.ts` (Zustand) |
| 4 | å®‰å…¨å­˜å‚¨ | `expo-secure-store` |
| 5 | ç”Ÿç‰©è¯†åˆ« | `expo-local-authentication` |
| 6 | ä½™é¢æŸ¥è¯¢ | `useBalance` Hook |
| 7 | è½¬è´¦åŠŸèƒ½ | ç­¾å + å‘é€äº¤æ˜“ |
| 8 | äº¤æ˜“è®°å½• | å†å²æŸ¥è¯¢ |

**å…³é”®ç»„ä»¶**:
- `WalletCard` - ä½™é¢å¡ç‰‡ï¼ˆæ¸å˜èƒŒæ™¯ï¼‰
- `SendModal` - è½¬è´¦å¼¹çª—
- `ReceiveModal` - æ”¶æ¬¾äºŒç»´ç 
- `TransactionList` - äº¤æ˜“è®°å½•åˆ—è¡¨

### 2.2 API æœåŠ¡å±‚

```
services/
â”œâ”€â”€ api.ts              # Polkadot API è¿æ¥
â”œâ”€â”€ wallet.ts           # é’±åŒ…ç›¸å…³
â”œâ”€â”€ trading.ts          # äº¤æ˜“ç›¸å…³
â”œâ”€â”€ entity.ts           # å®ä½“ç›¸å…³
â””â”€â”€ chat.ts             # èŠå¤©ç›¸å…³
```

### 2.3 å…¬å…±ç»„ä»¶åº“

| ç»„ä»¶ | ç”¨é€” |
|------|------|
| `Button` | ä¸»/æ¬¡/å±é™©æŒ‰é’® |
| `Input` | æ–‡æœ¬è¾“å…¥ |
| `Card` | å¡ç‰‡å®¹å™¨ |
| `Modal` | å¼¹çª— |
| `Toast` | æç¤ºæ¶ˆæ¯ |
| `Loading` | åŠ è½½çŠ¶æ€ |
| `Badge` | è§’æ ‡/æ ‡ç­¾ |
| `Avatar` | å¤´åƒ |

---

## ä¸‰ã€P0 æ ¸å¿ƒåŠŸèƒ½ï¼ˆWeek 4-8ï¼‰

### 3.1 OTC äº¤æ˜“æ¨¡å—

**è·¯ç”±**: `/otc/`

| é¡µé¢ | åŠŸèƒ½ | API è°ƒç”¨ |
|------|------|----------|
| `index.tsx` | åšå¸‚å•†åˆ—è¡¨ | `query.maker.makers` |
| `buy.tsx` | è´­ä¹° COS | `tx.otcOrder.createBuyOrder` |
| `sell.tsx` | å‡ºå”® COS | `tx.otcOrder.createSellOrder` |
| `[orderId].tsx` | è®¢å•è¯¦æƒ… | `query.otcOrder.orders` |

**æµç¨‹è®¾è®¡**:
```
é€‰æ‹©åšå¸‚å•† â†’ è¾“å…¥é‡‘é¢ â†’ ç¡®è®¤è®¢å• â†’ æ”¯ä»˜ â†’ ç­‰å¾…æ”¾å¸ â†’ å®Œæˆ
```

### 3.2 Swap å…‘æ¢æ¨¡å—

**è·¯ç”±**: `/swap/`

| é¡µé¢ | åŠŸèƒ½ |
|------|------|
| `index.tsx` | COS â†” USDT å…‘æ¢ |
| `history.tsx` | å…‘æ¢è®°å½• |

**UI è®¾è®¡**:
- é‡‘é¢è¾“å…¥æ¡†ï¼ˆå¸¦æ±‡ç‡æ˜¾ç¤ºï¼‰
- åšå¸‚å•†é€‰æ‹©å™¨
- æ»‘ç‚¹è®¾ç½®
- ç¡®è®¤äº¤æ˜“æŒ‰é’®

### 3.3 åšå¸‚å•†æ¨¡å—

**è·¯ç”±**: `/maker/`

| é¡µé¢ | åŠŸèƒ½ |
|------|------|
| `index.tsx` | åšå¸‚å•†é¢æ¿ |
| `apply.tsx` | ç”³è¯·åšå¸‚å•† |
| `deposit.tsx` | æŠ¼é‡‘ç®¡ç† |
| `withdraw.tsx` | æç° |
| `orders.tsx` | è®¢å•ç®¡ç† |

### 3.4 KYC è®¤è¯

**è·¯ç”±**: `/settings/kyc`

| æ­¥éª¤ | å†…å®¹ |
|------|------|
| 1 | åŸºç¡€ä¿¡æ¯å¡«å†™ |
| 2 | è¯ä»¶ä¸Šä¼ ï¼ˆæ­£åé¢ï¼‰|
| 3 | äººè„¸è¯†åˆ« |
| 4 | ç­‰å¾…å®¡æ ¸ |
| 5 | ç»“æœé€šçŸ¥ |

**çŠ¶æ€é¢œè‰²**: å‚è€ƒ `Colors.kyc`

### 3.5 èŠå¤©åŸºç¡€åŠŸèƒ½

**è·¯ç”±**: `/chat/`

| é¡µé¢ | åŠŸèƒ½ |
|------|------|
| `index.tsx` | ä¼šè¯åˆ—è¡¨ |
| `[chatId].tsx` | èŠå¤©è¯¦æƒ… |

**ç»„ä»¶**:
- `ConversationItem` - ä¼šè¯åˆ—è¡¨é¡¹
- `MessageBubble` - æ¶ˆæ¯æ°”æ³¡
- `ChatInput` - è¾“å…¥æ¡† + å‘é€æŒ‰é’®
- `MessageStatus` - å·²è¯»/æœªè¯»çŠ¶æ€

### 3.6 æ¨èé‚€è¯·

**è·¯ç”±**: `/referral/`

| é¡µé¢ | åŠŸèƒ½ |
|------|------|
| `index.tsx` | é‚€è¯·ç  + åˆ†äº« |
| `team.tsx` | å›¢é˜Ÿåˆ—è¡¨ï¼ˆ15å±‚ï¼‰|
| `bindReferrer.tsx` | ç»‘å®šæ¨èäºº |

**UI**: å±‚çº§æ ‘çŠ¶å›¾ + è¿”ä½£ç»Ÿè®¡

---

## å››ã€P1 å¢å¼ºåŠŸèƒ½ï¼ˆWeek 9-12ï¼‰

### 4.1 ä¼šå‘˜ç­‰çº§

**è·¯ç”±**: `/membership/`

- ç­‰çº§å±•ç¤ºï¼ˆ7çº§é¢œè‰²ï¼‰
- å‡çº§æ¡ä»¶
- ç­‰çº§æƒç›Šè¯´æ˜

### 4.2 è¿”ä½£ç³»ç»Ÿ

**è·¯ç”±**: `/referral/commission`

- è¿”ä½£è®°å½•
- å¯æç°ä½™é¢
- æç°ç”³è¯·

### 4.3 ä»£å¸å¸‚åœº

**è·¯ç”±**: `/market/`

- P2P æŒ‚å•åˆ—è¡¨
- åˆ›å»ºä¹°/å–å•
- è®¢å•ç°¿

### 4.4 ç¾¤èŠ

**è·¯ç”±**: `/chat/group/`

- åˆ›å»ºç¾¤ç»„
- ç¾¤æˆå‘˜ç®¡ç†
- 4ç§åŠ å¯†æ¨¡å¼åˆ‡æ¢

### 4.5 è¯„ä»·ç³»ç»Ÿ

**è·¯ç”±**: `/mall/reviews/`

- è¯„ä»·åˆ—è¡¨
- æäº¤è¯„ä»·
- æ˜Ÿçº§è¯„åˆ†

### 4.6 ä¿¡ç”¨åˆ†

**è·¯ç”±**: `/profile/credit`

- ä¿¡ç”¨åˆ†å±•ç¤º
- ä¿¡ç”¨å†å²
- å½±å“å› ç´ è¯´æ˜

---

## äº”ã€P2 é«˜çº§åŠŸèƒ½ï¼ˆWeek 13-16ï¼‰

### 5.1 æ²»ç†æŠ•ç¥¨

**è·¯ç”±**: `/mall/governance/`

- ææ¡ˆåˆ—è¡¨
- åˆ›å»ºææ¡ˆ
- æŠ•ç¥¨ï¼ˆèµæˆ/åå¯¹/å¼ƒæƒï¼‰
- æ‰§è¡Œç»“æœ

### 5.2 ä»£å¸å‘å”®

**è·¯ç”±**: `/mall/token/sale`

- å‘å”®åˆ—è¡¨
- å‚ä¸è®¤è´­
- è§£é”è¿›åº¦

### 5.3 äº‰è®®ä»²è£

**è·¯ç”±**: `/disputes/`

- äº‰è®®åˆ—è¡¨
- æäº¤è¯æ®
- ä»²è£è¿›åº¦
- è£å†³ç»“æœ

---

## å…­ã€å¼€å‘é¡ºåºæ€»è§ˆ

```
Week 1:  é¡¹ç›®åˆå§‹åŒ– + åŸºç¡€é…ç½®
Week 2:  é’±åŒ…æ¨¡å—ï¼ˆåˆ›å»º/å¯¼å…¥ï¼‰
Week 3:  é’±åŒ…æ¨¡å—ï¼ˆè½¬è´¦/è®°å½•ï¼‰+ API æœåŠ¡å±‚
Week 4:  OTC æ¨¡å—ï¼ˆåˆ—è¡¨/è´­ä¹°ï¼‰
Week 5:  OTC æ¨¡å—ï¼ˆè®¢å•è¯¦æƒ…ï¼‰+ Swap æ¨¡å—
Week 6:  åšå¸‚å•†æ¨¡å—
Week 7:  KYC è®¤è¯
Week 8:  èŠå¤©åŸºç¡€ + æ¨èé‚€è¯·
Week 9:  ä¼šå‘˜ç­‰çº§ + è¿”ä½£ç³»ç»Ÿ
Week 10: ä»£å¸å¸‚åœº
Week 11: ç¾¤èŠ + è¯„ä»·ç³»ç»Ÿ
Week 12: ä¿¡ç”¨åˆ† + Bug ä¿®å¤
Week 13: æ²»ç†æŠ•ç¥¨
Week 14: ä»£å¸å‘å”®
Week 15: äº‰è®®ä»²è£
Week 16: æ•´ä½“ä¼˜åŒ–
```

---

## ä¸ƒã€é‡Œç¨‹ç¢‘

| é‡Œç¨‹ç¢‘ | æ—¶é—´ | äº¤ä»˜ç‰© |
|--------|------|--------|
| **M1** | Week 3 | é’±åŒ…å¯ç”¨ |
| **M2** | Week 5 | OTC + Swap å¯ç”¨ |
| **M3** | Week 8 | P0 åŠŸèƒ½å®Œæˆï¼ˆå†…æµ‹ç‰ˆï¼‰|
| **M4** | Week 12 | P1 åŠŸèƒ½å®Œæˆï¼ˆå…¬æµ‹ç‰ˆï¼‰|
| **M5** | Week 16 | å…¨åŠŸèƒ½ä¸Šçº¿ |

---

## å…«ã€è´¨é‡ä¿è¯

### 8.1 ä»£ç è§„èŒƒ

- ESLint + Prettier
- TypeScript strict mode
- ç»„ä»¶å•ä¸€èŒè´£

### 8.2 æµ‹è¯•ç­–ç•¥

| ç±»å‹ | å·¥å…· | è¦†ç›– |
|------|------|------|
| å•å…ƒæµ‹è¯• | Jest | Hooks, Utils |
| ç»„ä»¶æµ‹è¯• | Testing Library | UI ç»„ä»¶ |
| E2E æµ‹è¯• | Detox | æ ¸å¿ƒæµç¨‹ |

### 8.3 æ€§èƒ½ä¼˜åŒ–

- å›¾ç‰‡æ‡’åŠ è½½
- åˆ—è¡¨è™šæ‹ŸåŒ– (FlashList)
- ç¼“å­˜ç­–ç•¥ (TanStack Query)
- Bundle åˆ†æ

---

## ä¹ã€è®¾è®¡èµ„æº

| æ–‡æ¡£ | è·¯å¾„ |
|------|------|
| æŠ€æœ¯æ ˆ | `docs/TECH_STACK.md` |
| å¼€å‘æŒ‡å— | `docs/FRONTEND_DEV_GUIDE.md` |
| é¢œè‰²è§„èŒƒ | `docs/UI_COLORS.md` |
