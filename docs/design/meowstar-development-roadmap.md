# 喵星宇宙 (Meowstar Universe) - 开发路线图

## 项目概述

基于 Substrate 区块链的 GameFi + AI 陪伴宠物项目，包含：
- 链上游戏系统（养成、战斗、经济）
- 链下 AI 服务（大模型对话、个性化训练）
- 前端应用（Web/App）

---

## 开发阶段总览

```
Phase 0: 基础设施 (4周)
    │
    v
Phase 1: 核心游戏 MVP (8周)
    │
    v
Phase 2: AI 陪伴系统 (6周)
    │
    v
Phase 3: 经济系统完善 (4周)
    │
    v
Phase 4: 测试网上线 (4周)
    │
    v
Phase 5: 主网上线 (4周)
```

---

## Phase 0: 基础设施 (4周)

### 目标
搭建开发环境和基础架构

### 任务清单

| 任务 | 优先级 | 预估时间 | 负责模块 |
|------|--------|----------|----------|
| Substrate 节点配置 | P0 | 3天 | 链端 |
| 开发环境搭建 | P0 | 2天 | 全栈 |
| CI/CD 流水线 | P1 | 2天 | DevOps |
| 数据库设计 | P1 | 3天 | 后端 |
| API 框架搭建 | P1 | 3天 | 后端 |
| 前端项目初始化 | P1 | 2天 | 前端 |
| 设计规范制定 | P2 | 3天 | 设计 |

### 交付物
- [ ] 可运行的本地开发节点
- [ ] 后端 API 框架
- [ ] 前端项目骨架
- [ ] CI/CD 自动化流程

---

## Phase 1: 核心游戏 MVP (8周)

### 目标
实现可玩的游戏核心循环

### 1.1 宠物系统 (3周)

| 任务 | 优先级 | 预估时间 | 说明 |
|------|--------|----------|------|
| pallet-pet 基础结构 | P0 | 3天 | Pet 数据结构、存储 |
| 宠物铸造 (孵化) | P0 | 2天 | 创建宠物 NFT |
| 属性系统 | P0 | 2天 | HP/ATK/DEF/SPD 等 |
| 稀有度系统 | P0 | 2天 | Common-Mythic |
| 升级系统 | P1 | 3天 | 经验值、等级 |
| 进化系统 | P1 | 3天 | 形态变化、属性提升 |
| 前端：宠物展示 | P1 | 3天 | 宠物卡片、详情页 |

```rust
// 核心 Pallet
pallet-pet
├── Pet 结构体
├── create_pet()
├── level_up()
├── evolve()
└── Storage: Pets, PetOwners
```

### 1.2 战斗系统 (3周)

| 任务 | 优先级 | 预估时间 | 说明 |
|------|--------|----------|------|
| pallet-battle 基础 | P0 | 3天 | 战斗数据结构 |
| 回合制引擎 | P0 | 4天 | 行动顺序、伤害计算 |
| 技能系统 | P0 | 3天 | 技能定义、效果 |
| PVE 战斗 | P1 | 3天 | 单人副本 |
| PVP 匹配 | P1 | 3天 | ELO 匹配队列 |
| 战斗结算 | P1 | 2天 | 奖励发放 |
| 前端：战斗界面 | P1 | 4天 | 战斗动画、操作 |

```rust
// 核心 Pallet
pallet-battle
├── Battle 结构体
├── start_battle()
├── submit_action()
├── resolve_turn()
└── Storage: Battles, BattleHistory
```

### 1.3 基础经济 (2周)

| 任务 | 优先级 | 预估时间 | 说明 |
|------|--------|----------|------|
| COS 代币集成 | P0 | 2天 | 使用主网代币 |
| 奖励池设计 | P0 | 2天 | 奖励分发逻辑 |
| 消费系统 | P0 | 2天 | 升级/进化消耗 |
| 基础市场 | P1 | 3天 | NFT 挂单/购买 |
| 前端：钱包集成 | P1 | 3天 | 连接钱包、余额显示 |

### Phase 1 交付物
- [ ] 可创建、升级、进化的宠物
- [ ] 可进行 PVE/PVP 战斗
- [ ] 基础代币消费和奖励
- [ ] 简单的 NFT 市场

---

## Phase 2: AI 陪伴系统 (6周)

### 目标
实现 AI 宠物的对话和个性化能力

### 2.1 AI 基础服务 (2周)

| 任务 | 优先级 | 预估时间 | 说明 |
|------|--------|----------|------|
| LLM 服务部署 | P0 | 3天 | Qwen/Llama 部署 |
| 对话 API | P0 | 3天 | 基础聊天接口 |
| 性格 Prompt 系统 | P0 | 2天 | 根据宠物属性生成 |
| 商业 API 备用 | P1 | 2天 | OpenAI/Claude 集成 |
| 路由策略 | P1 | 2天 | 请求分发逻辑 |

### 2.2 记忆系统 (2周)

| 任务 | 优先级 | 预估时间 | 说明 |
|------|--------|----------|------|
| 向量数据库部署 | P0 | 2天 | Qdrant/ChromaDB |
| Embedding 服务 | P0 | 2天 | BGE-M3 部署 |
| 对话向量化 | P0 | 2天 | 聊天记录存储 |
| RAG 检索 | P0 | 3天 | 相关记忆检索 |
| 记忆管理 API | P1 | 2天 | 查看/删除记忆 |

### 2.3 个性化训练 (2周)

| 任务 | 优先级 | 预估时间 | 说明 |
|------|--------|----------|------|
| 训练数据收集 | P1 | 2天 | 对话数据清洗 |
| LoRA 微调流程 | P1 | 4天 | 个性化模型训练 |
| 模型版本管理 | P1 | 2天 | 多版本切换 |
| 链上训练记录 | P2 | 2天 | 哈希存证 |

### 2.4 前端应用 (并行)

| 任务 | 优先级 | 预估时间 | 说明 |
|------|--------|----------|------|
| 聊天界面 | P0 | 3天 | 对话 UI |
| 宠物形象展示 | P1 | 2天 | 头像/表情 |
| 记忆管理界面 | P1 | 2天 | 查看/删除 |
| 移动端适配 | P2 | 3天 | 响应式设计 |

### Phase 2 交付物
- [ ] 可对话的 AI 宠物
- [ ] 基于记忆的个性化回复
- [ ] 聊天应用 (Web)

---

## Phase 3: 经济系统完善 (4周)

### 目标
完善游戏经济循环

### 3.1 质押系统 (1周)

| 任务 | 优先级 | 预估时间 | 说明 |
|------|--------|----------|------|
| pallet-staking | P0 | 3天 | 质押逻辑 |
| 锁定期设计 | P0 | 2天 | 多档位收益 |
| 收益分发 | P0 | 2天 | 自动分红 |

### 3.2 DAO 治理 (1周)

| 任务 | 优先级 | 预估时间 | 说明 |
|------|--------|----------|------|
| pallet-governance | P1 | 3天 | 提案/投票 |
| 国库管理 | P1 | 2天 | 资金分配 |
| 前端：治理界面 | P1 | 2天 | 提案列表/投票 |

### 3.3 高级市场 (1周)

| 任务 | 优先级 | 预估时间 | 说明 |
|------|--------|----------|------|
| 拍卖系统 | P1 | 3天 | 英式/荷兰拍卖 |
| 报价系统 | P2 | 2天 | 买家出价 |
| 交易历史 | P2 | 2天 | 价格走势 |

### 3.4 赛季系统 (1周)

| 任务 | 优先级 | 预估时间 | 说明 |
|------|--------|----------|------|
| 排行榜 | P1 | 2天 | ELO 排名 |
| 赛季奖励 | P1 | 2天 | 赛季结算 |
| 锦标赛 | P2 | 3天 | 淘汰赛制 |

### Phase 3 交付物
- [ ] 质押系统
- [ ] DAO 治理
- [ ] 完整的 NFT 市场
- [ ] 赛季和排行榜

---

## Phase 4: 测试网上线 (4周)

### 目标
公开测试，收集反馈

### 4.1 测试准备 (1周)

| 任务 | 优先级 | 说明 |
|------|--------|------|
| 安全审计 | P0 | 智能合约审计 |
| 压力测试 | P0 | 性能瓶颈 |
| Bug 修复 | P0 | 已知问题 |

### 4.2 测试网运营 (3周)

| 任务 | 优先级 | 说明 |
|------|--------|------|
| 测试网部署 | P0 | 节点上线 |
| 水龙头 | P0 | 测试代币发放 |
| 社区测试 | P0 | 招募测试用户 |
| 反馈收集 | P0 | Bug 报告、建议 |
| 迭代优化 | P0 | 根据反馈调整 |

### Phase 4 交付物
- [ ] 测试网在线运行
- [ ] 测试报告
- [ ] 优化后的版本

---

## Phase 5: 主网上线 (4周)

### 目标
正式上线运营

### 5.1 上线准备 (2周)

| 任务 | 优先级 | 说明 |
|------|--------|------|
| 最终审计 | P0 | 安全确认 |
| 运维部署 | P0 | 生产环境 |
| 监控告警 | P0 | 系统监控 |
| 文档完善 | P1 | 用户指南 |

### 5.2 上线运营 (2周)

| 任务 | 优先级 | 说明 |
|------|--------|------|
| 主网部署 | P0 | 正式上线 |
| 创世活动 | P1 | 首发奖励 |
| 社区运营 | P1 | 推广活动 |
| 持续迭代 | P1 | 新功能开发 |

---

## 技术栈

### 链端
- **框架**: Substrate / FRAME
- **语言**: Rust
- **Pallets**: pet, battle, marketplace, staking, governance

### 后端
- **语言**: Rust / Python
- **框架**: Axum / FastAPI
- **数据库**: PostgreSQL, Redis
- **向量库**: Qdrant

### AI 服务
- **LLM**: Qwen2.5-7B / Llama-3-8B
- **Embedding**: BGE-M3
- **微调**: LoRA / QLoRA
- **推理**: vLLM / Ollama

### 前端
- **框架**: React / Next.js
- **UI**: TailwindCSS, shadcn/ui
- **钱包**: Polkadot.js

---

## 团队配置建议

| 角色 | 人数 | 职责 |
|------|------|------|
| 链端开发 | 2 | Substrate Pallet 开发 |
| 后端开发 | 2 | API、AI 服务 |
| 前端开发 | 2 | Web/App 开发 |
| AI 工程师 | 1 | LLM 部署、微调 |
| 产品经理 | 1 | 需求、设计 |
| 运维 | 1 | 部署、监控 |

**总计**: 9人

---

## 里程碑时间线

```
2026 Q1 (1-3月)
├── Phase 0: 基础设施 (1月)
└── Phase 1: 核心游戏 MVP (2-3月)

2026 Q2 (4-6月)
├── Phase 2: AI 陪伴系统 (4-5月)
└── Phase 3: 经济系统完善 (6月)

2026 Q3 (7-9月)
├── Phase 4: 测试网上线 (7-8月)
└── Phase 5: 主网上线 (9月)
```

---

## 风险与应对

| 风险 | 影响 | 应对措施 |
|------|------|----------|
| 链端开发延期 | 高 | 优先 MVP，迭代优化 |
| AI 成本超预期 | 中 | 开源模型为主，商业 API 备用 |
| 安全漏洞 | 高 | 多轮审计，Bug 赏金 |
| 用户增长慢 | 中 | 社区运营，激励活动 |

---

## 下一步行动

### 立即开始 (本周)
1. [ ] 确认团队配置
2. [ ] 搭建开发环境
3. [ ] 创建项目仓库结构
4. [ ] 制定编码规范

### 第一周目标
1. [ ] Substrate 节点本地运行
2. [ ] pallet-pet 基础结构
3. [ ] 前端项目初始化
4. [ ] 数据库设计完成

---

*文档版本: v1.0*
*创建日期: 2026-01-30*
