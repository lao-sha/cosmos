# Cosmos Aegis Â· å®ä½“å®ˆæŠ¤è€…æ–¹æ¡ˆ

> é“¾ä¸ŠæŒå¸åˆ†çº§ Ã— ç°å®æœºå™¨äººäººèº«ä¿æŠ¤ç³»ç»Ÿè®¾è®¡åˆ†æ

## ç›®å½•

1. [æ–¹æ¡ˆæ¦‚è¿°](#1-æ–¹æ¡ˆæ¦‚è¿°)
2. [æŒå¸åˆ†çº§ä½“ç³»](#2-æŒå¸åˆ†çº§ä½“ç³»)
3. [ä¿æŠ¤ç­‰çº§ä¸æœåŠ¡æ˜ å°„](#3-ä¿æŠ¤ç­‰çº§ä¸æœåŠ¡æ˜ å°„)
4. [ç³»ç»Ÿæ¶æ„](#4-ç³»ç»Ÿæ¶æ„)
5. [Pallet è®¾è®¡](#5-pallet-è®¾è®¡)
6. [æœºå™¨äººå¯¹æ¥åè®®](#6-æœºå™¨äººå¯¹æ¥åè®®)
7. [éšç§ä¸å®‰å…¨åˆ†æ](#7-éšç§ä¸å®‰å…¨åˆ†æ)
8. [ç»æµæ¨¡å‹](#8-ç»æµæ¨¡å‹)
9. [æ³•å¾‹ä¸åˆè§„è€ƒé‡](#9-æ³•å¾‹ä¸åˆè§„è€ƒé‡)
10. [é£é™©åˆ†æä¸å¯¹ç­–](#10-é£é™©åˆ†æä¸å¯¹ç­–)
11. [å®æ–½è·¯çº¿å›¾](#11-å®æ–½è·¯çº¿å›¾)

---

## 1. æ–¹æ¡ˆæ¦‚è¿°

### 1.1 æ ¸å¿ƒç†å¿µ

**é“¾ä¸Šèµ„äº§ â†’ é“¾ä¸Šèº«ä»½éªŒè¯ â†’ é“¾ä¸‹å®ä½“å®ˆæŠ¤**

æŒå¸å‰ 1000 åç”¨æˆ·æŒ‰æŒä»“é‡åˆ’åˆ†ä¿æŠ¤ç­‰çº§ï¼Œé“¾ä¸Šè‡ªåŠ¨è®¡ç®—ç­‰çº§ã€ç”Ÿæˆä¿æŠ¤å‡­è¯ï¼Œé“¾ä¸‹æœºå™¨äººç³»ç»ŸéªŒè¯å‡­è¯åæä¾›å¯¹åº”çº§åˆ«çš„äººèº«ä¿æŠ¤æœåŠ¡ã€‚

### 1.2 ä¸ºä»€ä¹ˆè¦åš

| ç—›ç‚¹ | è¯´æ˜ |
|------|------|
| **$5 æ‰³æ‰‹æ”»å‡»** | åŠ å¯†å¤§æˆ·é¢ä¸´çš„æœ€å¤§å¨èƒä¸æ˜¯é“¾ä¸Šé»‘å®¢ï¼Œè€Œæ˜¯ç°å®ä¸–ç•Œçš„ç‰©ç†èƒè¿« |
| **èº«ä»½æš´éœ²é£é™©** | é“¾ä¸Šå¤§é¢æŒä»“å…¬å¼€å¯æŸ¥ï¼Œå¤§æˆ·æˆä¸ºç»‘æ¶/å‹’ç´¢ç›®æ ‡ |
| **ä¼ ç»Ÿä¿é•–å±€é™** | äººåŠ›å®‰ä¿æˆæœ¬é«˜ã€æ— æ³• 7Ã—24ã€ä¿¡ä»»ä¾èµ–ä¸ªäºº |
| **æœºå™¨äººä¼˜åŠ¿** | ä¸ç–²åŠ³ã€ä¸å—è´¿ã€å¯æº¯æºã€å¯è¿œç¨‹åè°ƒã€æˆæœ¬éšè§„æ¨¡ä¸‹é™ |

### 1.3 æ ¸å¿ƒåŸåˆ™

- **é“¾ä¸Šå¯éªŒè¯**ï¼šä¿æŠ¤ç­‰çº§ç”±é“¾ä¸ŠæŒä»“å®æ—¶å†³å®šï¼Œä¸å¯ä¼ªé€ 
- **éšç§ä¼˜å…ˆ**ï¼šæŒä»“é‡å’Œä¿æŠ¤ç­‰çº§å¯¹å¤–ä¸å¯è§ï¼Œä½¿ç”¨é›¶çŸ¥è¯†è¯æ˜éªŒè¯
- **æ¸è¿›å¼ä¿æŠ¤**ï¼šä»è¿œç¨‹ç›‘æ§åˆ°è´´èº«æŠ¤å«ï¼Œç­‰çº§è¶Šé«˜ä¿æŠ¤è¶Šå…¨é¢
- **å»ä¸­å¿ƒåŒ–è°ƒåº¦**ï¼šæœºå™¨äººè°ƒåº¦ç”±é“¾ä¸Šåˆçº¦é©±åŠ¨ï¼Œéå•ä¸€æ§åˆ¶æ–¹
- **äººæœºååŒ**ï¼šæœºå™¨äººä¸ºä¸»ã€äººç±»å®‰ä¿ä¸ºè¾…ï¼Œå…³é”®æ—¶åˆ»äººå·¥ä»‹å…¥

---

## 2. æŒå¸åˆ†çº§ä½“ç³»

### 2.1 Top 1000 åˆ†çº§

åŸºäºæŒä»“é‡ï¼ˆCOS + é”ä»“ + è´¨æŠ¼æ€»è®¡ï¼‰å°†å‰ 1000 ååˆ†ä¸º 5 ä¸ªä¿æŠ¤ç­‰çº§ï¼š

| ç­‰çº§ | åç§° | æ’åèŒƒå›´ | å…¸å‹æŒä»“ | ä»£å· |
|------|------|----------|----------|------|
| **S** | è‡³å°Šå®ˆæŠ¤ | Top 1-10 | > 1000 ä¸‡ COS | ğŸ›¡ï¸ Titan Shield |
| **A** | ç²¾è‹±å®ˆæŠ¤ | Top 11-50 | 100 ä¸‡-1000 ä¸‡ COS | ğŸ”· Diamond Guard |
| **B** | é«˜çº§å®ˆæŠ¤ | Top 51-200 | 10 ä¸‡-100 ä¸‡ COS | ğŸŸ¢ Emerald Watch |
| **C** | æ ‡å‡†å®ˆæŠ¤ | Top 201-500 | 1 ä¸‡-10 ä¸‡ COS | ğŸ”µ Sapphire Alert |
| **D** | åŸºç¡€å®ˆæŠ¤ | Top 501-1000 | æŒä»“è¿›å…¥ Top 1000 | âšª Silver Sense |

### 2.2 ç­‰çº§è®¡ç®—è§„åˆ™

```rust
/// æŒä»“è®¡ç®—å…¬å¼
total_holding = free_balance + locked_balance + staked_balance

/// ç­‰çº§ç”±æ’åå†³å®šï¼Œè€Œéç»å¯¹é‡‘é¢
/// åŸå› ï¼šç»å¯¹é‡‘é¢å—å¸ä»·æ³¢åŠ¨å½±å“å¤§ï¼Œæ’åæ›´ç¨³å®š
fn calculate_tier(rank: u32) -> GuardianTier {
    match rank {
        1..=10    => GuardianTier::S,
        11..=50   => GuardianTier::A,
        51..=200  => GuardianTier::B,
        201..=500 => GuardianTier::C,
        501..=1000 => GuardianTier::D,
        _ => GuardianTier::None,
    }
}
```

### 2.3 ç­‰çº§å˜åŠ¨è§„åˆ™

| åœºæ™¯ | å¤„ç†æ–¹å¼ |
|------|----------|
| **æŒä»“å¢åŠ ï¼Œæ’åä¸Šå‡** | ä¸‹ä¸€ä¸ªè®¡ç®—å‘¨æœŸè‡ªåŠ¨å‡çº§ |
| **æŒä»“å‡å°‘ï¼Œæ’åä¸‹é™** | 7 å¤©ç¼“å†²æœŸåé™çº§ï¼ˆé˜²æ­¢çŸ­æš‚æ³¢åŠ¨ï¼‰ |
| **è·Œå‡º Top 1000** | 30 å¤©ç¼“å†²æœŸåå–æ¶ˆä¿æŠ¤ |
| **æ–°è¿›å…¥ Top 1000** | 48 å°æ—¶èº«ä»½éªŒè¯åç”Ÿæ•ˆ |
| **å¤§é¢è½¬å‡º** | è§¦å‘å®‰å…¨å®¡æŸ¥ï¼Œç¡®è®¤éè¢«èƒè¿«æ“ä½œ |

### 2.4 é˜²æ“çºµæœºåˆ¶

| æ”»å‡»æ–¹å¼ | é˜²å¾¡ |
|----------|------|
| é—ªç”µè´·å†²æ’å | æŒä»“å¿«ç…§å– 7 å¤©æœ€ä½å€¼ |
| å¤šè´¦æˆ·åˆ†ä»“ | å…³è”è´¦æˆ·æ£€æµ‹ï¼ˆAegis sensorï¼‰ |
| çŸ­æš‚æ‹‰å‡åå–å‡º | 7 å¤©ç¼“å†²æœŸ |
| ä»–äººä»£æŒ | ç»‘å®š KYC + ç”Ÿç‰©ç‰¹å¾ |

---

## 3. ä¿æŠ¤ç­‰çº§ä¸æœåŠ¡æ˜ å°„

### 3.1 æœåŠ¡çŸ©é˜µ

| æœåŠ¡é¡¹ | D åŸºç¡€ | C æ ‡å‡† | B é«˜çº§ | A ç²¾è‹± | S è‡³å°Š |
|--------|--------|--------|--------|--------|--------|
| **è¿œç¨‹ç¯å¢ƒç›‘æ§** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **å¼‚å¸¸å‘Šè­¦æ¨é€** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **ç´§æ€¥å‘¼å«æŒ‰é’®** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **å®¶åº­å·¡é€»æœºå™¨äºº** | - | âœ… | âœ… | âœ… | âœ… |
| **å‡ºè¡Œä¼´éšæ— äººæœº** | - | - | âœ… | âœ… | âœ… |
| **è´´èº«æŠ¤å«æœºå™¨äºº** | - | - | - | âœ… | âœ… |
| **å®‰ä¿å›¢é˜Ÿå¾…å‘½** | - | - | - | âœ… | âœ… |
| **å®‰å…¨å±‹/é¿éš¾æ‰€** | - | - | - | - | âœ… |
| **åç›‘æ§æ‰«æ** | - | - | - | - | âœ… |
| **ä¸“å±å®‰å…¨é¡¾é—®** | - | - | - | - | âœ… |
| **å®¶æ—æˆå‘˜ä¿æŠ¤** | - | - | - | - | âœ… |

### 3.2 æœºå™¨äººç±»å‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æœºå™¨äººå®ˆæŠ¤è€…ä½“ç³»                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   Tier D/C: æ„ŸçŸ¥å±‚                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚  IoT ä¼ æ„Ÿå™¨   â”‚  â”‚  æ™ºèƒ½æ‘„åƒå¤´   â”‚  â”‚  é—¨ç¦æœºå™¨äºº   â”‚          â”‚
â”‚   â”‚  ç¯å¢ƒæ„ŸçŸ¥     â”‚  â”‚  è§†è§‰ç›‘æ§     â”‚  â”‚  è®¿å®¢è¯†åˆ«     â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                 â”‚
â”‚   Tier B: å·¡é€»å±‚                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚   â”‚  å·¡é€»çŠ¬æœºå™¨äºº  â”‚  â”‚  è·Ÿéšæ— äººæœº   â”‚                            â”‚
â”‚   â”‚  å‘¨è¾¹å·¡é€»     â”‚  â”‚  å‡ºè¡Œä¼´éš     â”‚                            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                                 â”‚
â”‚   Tier A: æŠ¤å«å±‚                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚   â”‚  æŠ¤å«æœºå™¨äºº   â”‚  â”‚  å®‰ä¿åè°ƒä¸­å¿ƒ  â”‚                            â”‚
â”‚   â”‚  è´´èº«éšè¡Œ     â”‚  â”‚  äººæœºååŒ     â”‚                            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                                 â”‚
â”‚   Tier S: å…¨æ–¹ä½å±‚                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚  æˆ˜æœ¯æœºå™¨äºº   â”‚  â”‚  åæ— äººæœºç³»ç»Ÿ  â”‚  â”‚  å®‰å…¨å±‹ç³»ç»Ÿ   â”‚          â”‚
â”‚   â”‚  é«˜çº§å¨èƒåº”å¯¹  â”‚  â”‚  ç”µå­å¯¹æŠ—     â”‚  â”‚  åº”æ€¥é¿éš¾     â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 å“åº”æ—¶é—´ SLA

| ç­‰çº§ | å‘Šè­¦å“åº” | æœºå™¨äººåˆ°è¾¾ | äººç±»æ”¯æ´åˆ°è¾¾ |
|------|---------|-----------|-------------|
| S | < 3 ç§’ | å·²åœ¨èº«è¾¹ | < 5 åˆ†é’Ÿ |
| A | < 5 ç§’ | < 2 åˆ†é’Ÿ | < 15 åˆ†é’Ÿ |
| B | < 10 ç§’ | < 5 åˆ†é’Ÿ | < 30 åˆ†é’Ÿ |
| C | < 30 ç§’ | < 15 åˆ†é’Ÿ | < 1 å°æ—¶ |
| D | < 1 åˆ†é’Ÿ | æŒ‰éœ€è°ƒåº¦ | æŒ‰éœ€è°ƒåº¦ |

---

## 4. ç³»ç»Ÿæ¶æ„

### 4.1 æ€»ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Aegis Â· å®ä½“å®ˆæŠ¤è€…æ¶æ„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   é“¾ä¸Šå±‚ (Substrate)                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚  guardian-  â”‚ â”‚  guardian-  â”‚ â”‚  guardian-  â”‚ â”‚  guardian-   â”‚     â”‚
â”‚   â”‚  registry   â”‚ â”‚  credentialâ”‚ â”‚  dispatch   â”‚ â”‚  audit       â”‚     â”‚
â”‚   â”‚  æŒä»“æ’å   â”‚ â”‚  ä¿æŠ¤å‡­è¯   â”‚ â”‚  ä»»åŠ¡è°ƒåº¦   â”‚ â”‚  å®¡è®¡è¿½æº¯    â”‚     â”‚
â”‚   â”‚  ç­‰çº§è®¡ç®—   â”‚ â”‚  ZK è¯æ˜   â”‚ â”‚  æœºå™¨äººåˆ†é…  â”‚ â”‚  äº‹ä»¶è®°å½•    â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â”‚              â”‚              â”‚               â”‚              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚            aegis-common + aegis-brain                     â”‚      â”‚
â”‚   â”‚         é£é™©è¯„ä¼° + æŒä»“è®¡ç®— + Trait æ¥å£                     â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                           â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æ¡¥æ¥å±‚                   â”‚                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚              Guardian Bridge (é“¾ä¸Š â†” é“¾ä¸‹)                    â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚  â”‚ å‡­è¯éªŒè¯  â”‚ â”‚ å¿ƒè·³æ£€æµ‹  â”‚ â”‚ ä»»åŠ¡åŒæ­¥  â”‚ â”‚ ç´§æ€¥ä¿¡å·è½¬å‘   â”‚  â”‚   â”‚
â”‚   â”‚  â”‚ Gateway  â”‚ â”‚ Monitor  â”‚ â”‚ Sync     â”‚ â”‚ Emergency Relayâ”‚  â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ç°å®å±‚                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚              Robot Operating System (ROS)                     â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚  â”‚ ç›‘æ§æœºå™¨äºº â”‚ â”‚ å·¡é€»æœºå™¨äºº â”‚ â”‚ æŠ¤å«æœºå™¨äºº â”‚ â”‚ æ— äººæœºç¼–é˜Ÿ    â”‚  â”‚   â”‚
â”‚   â”‚  â”‚ Sentinel â”‚ â”‚ Patrol   â”‚ â”‚ Guardian â”‚ â”‚ Drone Fleet    â”‚  â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚  â”‚ å®‰ä¿äººå‘˜  â”‚ â”‚           å®‰ä¿è¿è¥ä¸­å¿ƒ (SOC)              â”‚   â”‚   â”‚
â”‚   â”‚  â”‚ Human    â”‚ â”‚  24/7 ç›‘æ§ + äººæœºååŒ + åº”æ€¥æŒ‡æŒ¥           â”‚   â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 æ•°æ®æµ

```
â‘  é“¾ä¸ŠæŒä»“å˜åŒ–
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ guardian-     â”‚â”€â”€â”€â”€â–¶â”‚ guardian-     â”‚â”€â”€â”€â”€â–¶â”‚ guardian-     â”‚
â”‚ registry     â”‚     â”‚ credential   â”‚     â”‚ dispatch     â”‚
â”‚ é‡æ’å â†’ å®šçº§ â”‚     â”‚ ç”Ÿæˆ ZK å‡­è¯  â”‚     â”‚ åˆ†é…æœºå™¨äºº    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                â”‚
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Guardian     â”‚â”€â”€â”€â”€â–¶â”‚ Robot/äººç±»    â”‚
                    â”‚ Bridge       â”‚     â”‚ æ‰§è¡Œä¿æŠ¤ä»»åŠ¡   â”‚
                    â”‚ é“¾ä¸‹æŒ‡ä»¤ä¸‹å‘  â”‚     â”‚              â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                                â”‚
â‘¡ ç°å®å¨èƒäº‹ä»¶                                    â”‚
        â”‚                                       â”‚
        â–¼                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœºå™¨äººæ„ŸçŸ¥    â”‚â”€â”€â”€â”€â–¶â”‚ Guardian     â”‚â”€â”€â”€â”€â–¶â”‚ guardian-     â”‚
â”‚ å¨èƒæ£€æµ‹     â”‚     â”‚ Bridge       â”‚     â”‚ audit        â”‚
â”‚ ä¸ŠæŠ¥äº‹ä»¶     â”‚     â”‚ é“¾ä¸Šå­˜è¯      â”‚     â”‚ ä¸å¯ç¯¡æ”¹è®°å½•  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Pallet è®¾è®¡

### 5.1 guardian-registry â€” æŒä»“æ’åä¸ç­‰çº§ç®¡ç†

**æ ¸å¿ƒèŒè´£ï¼š**
- ç»´æŠ¤ Top 1000 æŒä»“æ’åè¡¨
- è®¡ç®—ä¿æŠ¤ç­‰çº§
- ç®¡ç†ç­‰çº§å‡é™çš„ç¼“å†²æœŸ
- èƒè¿«æ£€æµ‹ï¼ˆå¤§é¢è½¬å‡ºå‰ç¡®è®¤ï¼‰

```rust
// pallets/aegis/guardian/registry/src/lib.rs

/// ä¿æŠ¤ç­‰çº§
pub enum GuardianTier {
    None,         // ä¸åœ¨ Top 1000
    D,            // åŸºç¡€å®ˆæŠ¤ (501-1000)
    C,            // æ ‡å‡†å®ˆæŠ¤ (201-500)
    B,            // é«˜çº§å®ˆæŠ¤ (51-200)
    A,            // ç²¾è‹±å®ˆæŠ¤ (11-50)
    S,            // è‡³å°Šå®ˆæŠ¤ (1-10)
}

/// å®ˆæŠ¤è€…æ¡£æ¡ˆ
pub struct GuardianProfile<T: Config> {
    pub account: T::AccountId,
    pub tier: GuardianTier,
    pub rank: u32,                           // å½“å‰æ’å
    pub total_holding: BalanceOf<T>,         // æ€»æŒä»“
    pub tier_since: BlockNumberFor<T>,       // å½“å‰ç­‰çº§ç”Ÿæ•ˆåŒºå—
    pub grace_period_until: Option<BlockNumberFor<T>>, // ç¼“å†²æœŸæˆªæ­¢
    pub identity_verified: bool,             // æ˜¯å¦å®Œæˆèº«ä»½éªŒè¯
    pub protection_active: bool,             // ä¿æŠ¤æ˜¯å¦å·²æ¿€æ´»
    pub emergency_contacts: BoundedVec<EmergencyContact, ConstU32<5>>,
    pub registered_at: BlockNumberFor<T>,
}

/// ç´§æ€¥è”ç³»äºº
pub struct EmergencyContact {
    pub name_hash: [u8; 32],                 // å§“åå“ˆå¸Œï¼ˆéšç§ï¼‰
    pub contact_encrypted: BoundedVec<u8, ConstU32<256>>, // åŠ å¯†è”ç³»æ–¹å¼
    pub priority: u8,
}

/// æŒä»“å¿«ç…§ï¼ˆé˜²æ“çºµï¼šå– 7 å¤©æœ€ä½å€¼ï¼‰
pub struct HoldingSnapshot<T: Config> {
    pub day_1: BalanceOf<T>,
    pub day_2: BalanceOf<T>,
    pub day_3: BalanceOf<T>,
    pub day_4: BalanceOf<T>,
    pub day_5: BalanceOf<T>,
    pub day_6: BalanceOf<T>,
    pub day_7: BalanceOf<T>,
}

#[pallet::storage]
/// Top 1000 æ’åè¡¨
pub type Rankings<T> = StorageValue<_, BoundedVec<RankEntry<T>, ConstU32<1000>>>;

#[pallet::storage]
/// å®ˆæŠ¤è€…æ¡£æ¡ˆ
pub type Profiles<T> = StorageMap<_, Blake2_128Concat, T::AccountId, GuardianProfile<T>>;

#[pallet::storage]
/// æŒä»“å¿«ç…§ï¼ˆ7 å¤©æ»‘åŠ¨çª—å£ï¼‰
pub type Snapshots<T> = StorageMap<_, Blake2_128Concat, T::AccountId, HoldingSnapshot<T>>;

#[pallet::storage]
/// èƒè¿«å®‰å…¨è¯å“ˆå¸Œï¼ˆç”¨æˆ·é¢„è®¾ï¼Œè§¦å‘åå†»ç»“èµ„äº§ + æŠ¥è­¦ï¼‰
pub type DuressWordHash<T> = StorageMap<_, Blake2_128Concat, T::AccountId, [u8; 32]>;

#[pallet::call]
impl<T: Config> Pallet<T> {
    /// æ³¨å†Œä¸ºå®ˆæŠ¤è€…ï¼ˆè¿›å…¥ Top 1000 åä¸»åŠ¨æ³¨å†Œï¼‰
    #[pallet::call_index(0)]
    pub fn register_guardian(
        origin: OriginFor<T>,
        emergency_contacts: Vec<EmergencyContact>,
    ) -> DispatchResult;

    /// æ›´æ–°ç´§æ€¥è”ç³»äºº
    #[pallet::call_index(1)]
    pub fn update_emergency_contacts(
        origin: OriginFor<T>,
        contacts: Vec<EmergencyContact>,
    ) -> DispatchResult;

    /// è®¾ç½®èƒè¿«å®‰å…¨è¯ï¼ˆå“ˆå¸Œä¸Šé“¾ï¼ŒåŸæ–‡ä»…ç”¨æˆ·çŸ¥æ™“ï¼‰
    #[pallet::call_index(2)]
    pub fn set_duress_word(
        origin: OriginFor<T>,
        word_hash: [u8; 32],
    ) -> DispatchResult;

    /// èƒè¿«è§¦å‘ï¼šè¾“å…¥å®‰å…¨è¯ â†’ å†»ç»“èµ„äº§ + é™é»˜æŠ¥è­¦
    #[pallet::call_index(3)]
    pub fn trigger_duress(
        origin: OriginFor<T>,
        word: Vec<u8>,  // åŸæ–‡ï¼Œé“¾ä¸ŠéªŒè¯å“ˆå¸Œ
    ) -> DispatchResult;

    /// ç®¡ç†å‘˜è§¦å‘æ’åé‡ç®—ï¼ˆæˆ–ç”± hook å®šæœŸè§¦å‘ï¼‰
    #[pallet::call_index(10)]
    pub fn recalculate_rankings(
        origin: OriginFor<T>,
    ) -> DispatchResult;
}

#[pallet::hooks]
impl<T: Config> Hooks<BlockNumberFor<T>> for Pallet<T> {
    fn on_initialize(n: BlockNumberFor<T>) -> Weight {
        // æ¯å¤©ï¼ˆçº¦ 14400 åŒºå—ï¼‰æ›´æ–°æŒä»“å¿«ç…§
        if n % T::BlocksPerDay::get() == 0 {
            Self::update_snapshots();
        }
        // æ¯å‘¨é‡æ–°è®¡ç®—æ’å
        if n % T::BlocksPerWeek::get() == 0 {
            Self::recalculate_rankings_internal();
            Self::process_tier_changes();
        }
        Weight::zero()
    }
}
```

### 5.2 guardian-credential â€” ä¿æŠ¤å‡­è¯ï¼ˆZK è¯æ˜ï¼‰

**æ ¸å¿ƒèŒè´£ï¼š**
- ç”Ÿæˆä¿æŠ¤ç­‰çº§çš„é›¶çŸ¥è¯†è¯æ˜ï¼ˆ"æˆ‘æœ‰æƒè·å¾— A çº§ä¿æŠ¤"ä½†ä¸æš´éœ²å…·ä½“æŒä»“ï¼‰
- å‡­è¯ç­¾å‘ä¸éªŒè¯
- æœºå™¨äººéªŒè¯ç”¨æˆ·èº«ä»½æ—¶ä½¿ç”¨
- ä¸ `pallet-privacy-credential` é›†æˆ

```rust
// pallets/aegis/guardian/credential/src/lib.rs

/// å®ˆæŠ¤å‡­è¯ï¼ˆæœºå™¨äººéªŒè¯ç”¨æˆ·èº«ä»½çš„ä¾æ®ï¼‰
pub struct GuardianCredential<T: Config> {
    pub holder_commitment: [u8; 32],    // æŒæœ‰è€…èº«ä»½æ‰¿è¯º
    pub tier_proof: BoundedVec<u8, ConstU32<512>>, // ZK è¯æ˜ï¼šæŒä»“åœ¨æŸç­‰çº§èŒƒå›´å†…
    pub biometric_hash: [u8; 32],       // ç”Ÿç‰©ç‰¹å¾å“ˆå¸Œï¼ˆæŒ‡çº¹/é¢éƒ¨ï¼‰
    pub issued_at: BlockNumberFor<T>,
    pub expires_at: BlockNumberFor<T>,  // æœ‰æ•ˆæœŸï¼ˆé»˜è®¤ 7 å¤©ï¼Œéœ€å®šæœŸç»­ç­¾ï¼‰
    pub nonce: u64,                     // é˜²é‡æ”¾
}

/// å‡­è¯éªŒè¯è¯·æ±‚ï¼ˆæœºå™¨äººå‘èµ·ï¼‰
pub struct VerificationRequest<T: Config> {
    pub robot_id: RobotId,
    pub credential_hash: [u8; 32],
    pub challenge: [u8; 32],           // éšæœºæŒ‘æˆ˜å€¼
    pub requested_at: BlockNumberFor<T>,
    pub location_encrypted: BoundedVec<u8, ConstU32<128>>, // åŠ å¯†ä½ç½®
}

#[pallet::storage]
/// æ´»è·ƒå‡­è¯
pub type ActiveCredentials<T> = StorageMap<
    _, Blake2_128Concat, [u8; 32], GuardianCredential<T>
>;

#[pallet::storage]
/// å‡­è¯åŠé”€åˆ—è¡¨
pub type RevokedCredentials<T> = StorageMap<
    _, Blake2_128Concat, [u8; 32], BlockNumberFor<T>
>;

#[pallet::call]
impl<T: Config> Pallet<T> {
    /// ç­¾å‘å®ˆæŠ¤å‡­è¯
    #[pallet::call_index(0)]
    pub fn issue_credential(
        origin: OriginFor<T>,
        biometric_hash: [u8; 32],
    ) -> DispatchResult;

    /// ç»­ç­¾å‡­è¯ï¼ˆæ¯ 7 å¤©éœ€ç»­ç­¾ï¼Œç¡®è®¤ç”¨æˆ·ä»å®‰å…¨ï¼‰
    #[pallet::call_index(1)]
    pub fn renew_credential(
        origin: OriginFor<T>,
    ) -> DispatchResult;

    /// ç´§æ€¥åŠé”€å‡­è¯ï¼ˆç”¨æˆ·ä¸¢å¤±è®¾å¤‡æ—¶ï¼‰
    #[pallet::call_index(2)]
    pub fn revoke_credential(
        origin: OriginFor<T>,
    ) -> DispatchResult;

    /// éªŒè¯å‡­è¯ï¼ˆæœºå™¨äººé€šè¿‡ oracle è°ƒç”¨ï¼‰
    #[pallet::call_index(3)]
    pub fn verify_credential(
        origin: OriginFor<T>,
        credential_hash: [u8; 32],
        challenge: [u8; 32],
        response: BoundedVec<u8, ConstU32<512>>,
    ) -> DispatchResult;
}
```

### 5.3 guardian-dispatch â€” æœºå™¨äººè°ƒåº¦

**æ ¸å¿ƒèŒè´£ï¼š**
- æœºå™¨äººèŠ‚ç‚¹æ³¨å†Œä¸ç®¡ç†
- ä¿æŠ¤ä»»åŠ¡åˆ›å»ºä¸åˆ†é…
- ä»»åŠ¡çŠ¶æ€è¿½è¸ª
- æœºå™¨äººå¿ƒè·³ç›‘æ§

```rust
// pallets/aegis/guardian/dispatch/src/lib.rs

/// æœºå™¨äººç±»å‹
pub enum RobotType {
    Sentinel,     // ç›‘æ§å‹ï¼ˆæ‘„åƒå¤´/ä¼ æ„Ÿå™¨ï¼‰
    Patrol,       // å·¡é€»å‹ï¼ˆå·¡é€»çŠ¬æœºå™¨äººï¼‰
    Drone,        // æ— äººæœº
    Guardian,     // æŠ¤å«å‹ï¼ˆè´´èº«æœºå™¨äººï¼‰
    Tactical,     // æˆ˜æœ¯å‹ï¼ˆé«˜çº§å¨èƒåº”å¯¹ï¼‰
}

/// æœºå™¨äººèƒ½åŠ›ç­‰çº§
pub enum RobotCapability {
    Observe,      // è§‚å¯Ÿ
    Detect,       // æ£€æµ‹
    Alert,        // å‘Šè­¦
    Deter,        // å¨æ…‘
    Intercept,    // æ‹¦æˆª
    Escort,       // æŠ¤é€
}

/// æœºå™¨äººèŠ‚ç‚¹ä¿¡æ¯
pub struct RobotNode<T: Config> {
    pub robot_id: RobotId,
    pub robot_type: RobotType,
    pub capabilities: BoundedVec<RobotCapability, ConstU32<6>>,
    pub operator: T::AccountId,         // è¿è¥å•†
    pub stake: BalanceOf<T>,            // è´¨æŠ¼ï¼ˆä¿è¯æœåŠ¡è´¨é‡ï¼‰
    pub status: RobotStatus,
    pub location_region: u32,           // æœåŠ¡åŒºåŸŸç¼–ç 
    pub performance_score: u16,         // æœåŠ¡è¯„åˆ†
    pub tasks_completed: u64,
    pub registered_at: BlockNumberFor<T>,
    pub last_heartbeat: BlockNumberFor<T>,
}

pub enum RobotStatus {
    Idle,           // ç©ºé—²
    Assigned,       // å·²åˆ†é…ä»»åŠ¡
    OnDuty,         // æ‰§å‹¤ä¸­
    Maintenance,    // ç»´æŠ¤ä¸­
    Offline,        // ç¦»çº¿
}

/// ä¿æŠ¤ä»»åŠ¡
pub struct ProtectionTask<T: Config> {
    pub task_id: u64,
    pub guardian: T::AccountId,         // è¢«ä¿æŠ¤äºº
    pub tier: GuardianTier,
    pub task_type: TaskType,
    pub assigned_robots: BoundedVec<RobotId, ConstU32<10>>,
    pub assigned_humans: u8,            // äººç±»å®‰ä¿æ•°é‡
    pub status: TaskStatus,
    pub created_at: BlockNumberFor<T>,
    pub started_at: Option<BlockNumberFor<T>>,
    pub sla_deadline: BlockNumberFor<T>,
}

pub enum TaskType {
    Monitoring,       // æŒç»­ç›‘æ§
    Patrol,           // å®šæœŸå·¡é€»
    Escort,           // å‡ºè¡ŒæŠ¤é€
    Emergency,        // ç´§æ€¥å“åº”
    Sweep,            // å®‰å…¨æ‰«æ
}

pub enum TaskStatus {
    Pending,          // å¾…åˆ†é…
    Assigned,         // å·²åˆ†é…
    InProgress,       // è¿›è¡Œä¸­
    Completed,        // å·²å®Œæˆ
    Failed,           // å¤±è´¥
    Escalated,        // å·²å‡çº§ï¼ˆäººå·¥ä»‹å…¥ï¼‰
}

#[pallet::storage]
/// æ³¨å†Œæœºå™¨äºº
pub type Robots<T> = StorageMap<_, Blake2_128Concat, RobotId, RobotNode<T>>;

#[pallet::storage]
/// åŒºåŸŸå¯ç”¨æœºå™¨äººç´¢å¼•
pub type RegionRobots<T> = StorageMap<
    _, Blake2_128Concat, u32, BoundedVec<RobotId, ConstU32<100>>
>;

#[pallet::storage]
/// æ´»è·ƒä¿æŠ¤ä»»åŠ¡
pub type ActiveTasks<T> = StorageMap<_, Blake2_128Concat, u64, ProtectionTask<T>>;

#[pallet::storage]
/// ç”¨æˆ·å½“å‰ä»»åŠ¡
pub type UserTasks<T> = StorageMap<
    _, Blake2_128Concat, T::AccountId, BoundedVec<u64, ConstU32<10>>
>;

#[pallet::call]
impl<T: Config> Pallet<T> {
    /// æ³¨å†Œæœºå™¨äººèŠ‚ç‚¹ï¼ˆè¿è¥å•†è°ƒç”¨ï¼‰
    #[pallet::call_index(0)]
    pub fn register_robot(
        origin: OriginFor<T>,
        robot_type: RobotType,
        capabilities: Vec<RobotCapability>,
        region: u32,
        stake: BalanceOf<T>,
    ) -> DispatchResult;

    /// æœºå™¨äººå¿ƒè·³ä¸ŠæŠ¥
    #[pallet::call_index(1)]
    pub fn heartbeat(
        origin: OriginFor<T>,
        robot_id: RobotId,
        status_report: Vec<u8>,
    ) -> DispatchResult;

    /// åˆ›å»ºä¿æŠ¤ä»»åŠ¡
    #[pallet::call_index(2)]
    pub fn create_protection_task(
        origin: OriginFor<T>,
        task_type: TaskType,
    ) -> DispatchResult;

    /// è¯·æ±‚ç´§æ€¥å“åº”
    #[pallet::call_index(3)]
    pub fn emergency_request(
        origin: OriginFor<T>,
        threat_level: u8,
        location_encrypted: Vec<u8>,
    ) -> DispatchResult;

    /// ä»»åŠ¡å®Œæˆä¸ŠæŠ¥ï¼ˆæœºå™¨äºº/è¿è¥å•†ï¼‰
    #[pallet::call_index(4)]
    pub fn report_task_completion(
        origin: OriginFor<T>,
        task_id: u64,
        report_cid: BoundedVec<u8, ConstU32<64>>,
    ) -> DispatchResult;

    /// è¯„ä»·ä¿æŠ¤æœåŠ¡
    #[pallet::call_index(5)]
    pub fn rate_service(
        origin: OriginFor<T>,
        task_id: u64,
        score: u8,  // 1-5
        feedback_cid: Option<BoundedVec<u8, ConstU32<64>>>,
    ) -> DispatchResult;
}

#[pallet::hooks]
impl<T: Config> Hooks<BlockNumberFor<T>> for Pallet<T> {
    fn on_initialize(n: BlockNumberFor<T>) -> Weight {
        // æ£€æµ‹æœºå™¨äººå¿ƒè·³è¶…æ—¶ï¼ˆ3 åˆ†é’Ÿæ— å¿ƒè·³ â†’ æ ‡è®°ç¦»çº¿ï¼‰
        Self::check_heartbeat_timeouts(n);
        // è‡ªåŠ¨é‡æ–°åˆ†é…ç¦»çº¿æœºå™¨äººçš„ä»»åŠ¡
        Self::reassign_orphaned_tasks(n);
        Weight::zero()
    }
}
```

### 5.4 guardian-audit â€” å®¡è®¡è¿½æº¯

**æ ¸å¿ƒèŒè´£ï¼š**
- æ‰€æœ‰ä¿æŠ¤äº‹ä»¶é“¾ä¸Šå­˜è¯
- å¨èƒäº‹ä»¶è®°å½•ï¼ˆä¸å¯ç¯¡æ”¹ï¼‰
- æœåŠ¡è´¨é‡ç»Ÿè®¡
- ä¿é™©ç†èµ”ä¾æ®

```rust
// pallets/aegis/guardian/audit/src/lib.rs

/// å®‰å…¨äº‹ä»¶
pub struct SecurityIncident<T: Config> {
    pub incident_id: u64,
    pub guardian: T::AccountId,          // è¢«ä¿æŠ¤äºº
    pub threat_level: u8,                // å¨èƒç­‰çº§ 1-10
    pub incident_type: IncidentType,
    pub robot_reports: BoundedVec<RobotReport, ConstU32<10>>,
    pub response_time_blocks: u32,       // å“åº”æ—¶é—´ï¼ˆåŒºå—æ•°ï¼‰
    pub outcome: IncidentOutcome,
    pub evidence_cid: BoundedVec<u8, ConstU32<64>>, // IPFS è¯æ®
    pub occurred_at: BlockNumberFor<T>,
    pub resolved_at: Option<BlockNumberFor<T>>,
}

pub enum IncidentType {
    UnauthorizedAccess,    // éæˆæƒæ¥è¿‘
    Surveillance,          // è¢«ç›‘æ§/è·Ÿè¸ª
    PhysicalThreat,        // ç‰©ç†å¨èƒ
    DuressDetected,        // èƒè¿«æ£€æµ‹
    DeviceLost,            // è®¾å¤‡ä¸¢å¤±
    AnomalousPattern,      // å¼‚å¸¸è¡Œä¸ºæ¨¡å¼
}

pub enum IncidentOutcome {
    FalseAlarm,            // è¯¯æŠ¥
    Deterred,              // å¨èƒè¢«å¨æ…‘
    Intercepted,           // å¨èƒè¢«æ‹¦æˆª
    Escalated,             // å‡çº§å¤„ç†
    Resolved,              // å·²è§£å†³
}

pub struct RobotReport {
    pub robot_id: RobotId,
    pub action_taken: Vec<u8>,
    pub sensor_data_cid: BoundedVec<u8, ConstU32<64>>,
    pub timestamp: u64,
}

#[pallet::storage]
/// å®‰å…¨äº‹ä»¶è®°å½•
pub type Incidents<T> = StorageMap<_, Blake2_128Concat, u64, SecurityIncident<T>>;

#[pallet::storage]
/// ç”¨æˆ·å®‰å…¨äº‹ä»¶å†å²
pub type UserIncidents<T> = StorageMap<
    _, Blake2_128Concat, T::AccountId, BoundedVec<u64, ConstU32<100>>
>;

#[pallet::storage]
/// æœåŠ¡è´¨é‡ç»Ÿè®¡
pub type ServiceStats<T> = StorageValue<_, ServiceQualityStats>;

#[pallet::call]
impl<T: Config> Pallet<T> {
    /// ä¸ŠæŠ¥å®‰å…¨äº‹ä»¶ï¼ˆæœºå™¨äºº/è¿è¥å•†ï¼‰
    #[pallet::call_index(0)]
    pub fn report_incident(
        origin: OriginFor<T>,
        guardian: T::AccountId,
        threat_level: u8,
        incident_type: IncidentType,
        evidence_cid: BoundedVec<u8, ConstU32<64>>,
    ) -> DispatchResult;

    /// å…³é—­äº‹ä»¶
    #[pallet::call_index(1)]
    pub fn resolve_incident(
        origin: OriginFor<T>,
        incident_id: u64,
        outcome: IncidentOutcome,
        report_cid: BoundedVec<u8, ConstU32<64>>,
    ) -> DispatchResult;
}
```

---

## 6. æœºå™¨äººå¯¹æ¥åè®®

### 6.1 é€šä¿¡åè®®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Substrate   â”‚â—€â”€â”€ TLS â”€â”€â–¶â”‚  Guardian    â”‚â—€â”€â”€ TLS â”€â”€â–¶â”‚  Robot OS   â”‚
â”‚  Chain       â”‚  gRPC     â”‚  Bridge      â”‚  MQTT     â”‚  (ROS2)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| å±‚ | åè®® | è¯´æ˜ |
|----|------|------|
| é“¾ä¸Š â†” Bridge | Substrate RPC (WebSocket) | è®¢é˜…é“¾ä¸Šäº‹ä»¶ã€æäº¤äº¤æ˜“ |
| Bridge â†” Robot | MQTT over TLS | ä½å»¶è¿Ÿå‘½ä»¤ä¸‹å‘ã€çŠ¶æ€ä¸ŠæŠ¥ |
| Robot â†” Robot | DDS (ROS2 åŸç”Ÿ) | æœºå™¨äººé—´ååŒé€šä¿¡ |
| èº«ä»½éªŒè¯ | mTLS + é“¾ä¸Šå‡­è¯ | åŒå‘è¯ä¹¦ + ZK å‡­è¯éªŒè¯ |

### 6.2 æœºå™¨äººèº«ä»½éªŒè¯æµç¨‹

```
æœºå™¨äººå¯åŠ¨               Guardian Bridge              é“¾ä¸Š
    â”‚                        â”‚                         â”‚
    â”œâ”€â”€ mTLS æ¡æ‰‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                         â”‚
    â”‚                        â”œâ”€â”€ æŸ¥è¯¢ robot æ³¨å†Œ â”€â”€â”€â”€â”€â”€â–¶â”‚
    â”‚                        â”‚  â—€â”€â”€ è¿”å› robot ä¿¡æ¯ â”€â”€â”€â”€â”¤
    â”‚                        â”‚                         â”‚
    â”‚   â—€â”€â”€ æŒ‘æˆ˜å€¼ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                         â”‚
    â”œâ”€â”€ TEE ç­¾åå“åº” â”€â”€â”€â”€â”€â”€â”€â”€â–¶                         â”‚
    â”‚                        â”œâ”€â”€ verify on-chain â”€â”€â”€â”€â”€â”€â–¶â”‚
    â”‚                        â”‚  â—€â”€â”€ verified â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚   â—€â”€â”€ è®¤è¯æˆåŠŸ â”€â”€â”€â”€â”€â”€â”€â”€â”¤                         â”‚
    â”‚                        â”‚                         â”‚
    â”œâ”€â”€ å¼€å§‹æ¥æ”¶ä»»åŠ¡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                         â”‚
```

### 6.3 ç”¨æˆ·-æœºå™¨äººèº«ä»½äº’éªŒ

**åœºæ™¯ï¼šè´´èº«æŠ¤å«æœºå™¨äººé¦–æ¬¡æ¥è§¦è¢«ä¿æŠ¤äºº**

```
è¢«ä¿æŠ¤äºº                  æŠ¤å«æœºå™¨äºº                 é“¾ä¸Š
    â”‚                        â”‚                       â”‚
    â”‚  â—€â”€â”€ è¯·æ±‚éªŒè¯èº«ä»½ â”€â”€â”€â”€â”€â”€â”¤                       â”‚
    â”œâ”€â”€ å‡ºç¤º ZK å‡­è¯ â”€â”€â”€â”€â”€â”€â”€â”€â–¶                       â”‚
    â”‚   (NFC / QR / ç”Ÿç‰©ç‰¹å¾)  â”‚                       â”‚
    â”‚                        â”œâ”€â”€ éªŒè¯ ZK proof â”€â”€â”€â”€â”€â”€â–¶â”‚
    â”‚                        â”‚  â—€â”€â”€ éªŒè¯é€šè¿‡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                        â”‚                       â”‚
    â”‚  â—€â”€â”€ ç¡®è®¤ä¿æŠ¤ç­‰çº§ â”€â”€â”€â”€â”€â”€â”¤                       â”‚
    â”‚  â—€â”€â”€ å¼€å§‹æ‰§å‹¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
    â”‚                        â”‚                       â”‚
    â”‚  ï¼ˆç”¨æˆ·éªŒè¯æœºå™¨äººèº«ä»½ï¼‰    â”‚                       â”‚
    â”œâ”€â”€ æ‰«ææœºå™¨äººè¯ä¹¦ â”€â”€â”€â”€â”€â”€â”€â–¶                       â”‚
    â”‚                        â”œâ”€â”€ å‡ºç¤ºé“¾ä¸Šæ³¨å†Œè¯æ˜ â”€â”€â”€â”€â–¶â”‚
    â”‚  â—€â”€â”€ æœºå™¨äººèº«ä»½ç¡®è®¤ â”€â”€â”€â”€â”¤                       â”‚
```

### 6.4 ç´§æ€¥å“åº”åè®®

```
å¨èƒäº‹ä»¶                  æœºå™¨äºº                    é“¾ä¸Š                    å®‰ä¿ä¸­å¿ƒ
    â”‚                      â”‚                       â”‚                       â”‚
    â”œâ”€â”€ ä¼ æ„Ÿå™¨æ£€æµ‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                       â”‚                       â”‚
    â”‚                      â”œâ”€â”€ æœ¬åœ° AI åˆåˆ¤ â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
    â”‚                      â”‚  (< 100ms)            â”‚                       â”‚
    â”‚                      â”‚                       â”‚                       â”‚
    â”‚   [å¨èƒç¡®è®¤]          â”‚                       â”‚                       â”‚
    â”‚                      â”œâ”€â”€ å¯åŠ¨é˜²å¾¡å§¿æ€ â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
    â”‚                      â”œâ”€â”€ ä¸ŠæŠ¥é“¾ä¸Š â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                       â”‚
    â”‚                      â”‚                       â”œâ”€â”€ äº‹ä»¶è®°å½•             â”‚
    â”‚                      â”‚                       â”œâ”€â”€ é€šçŸ¥ Bridge â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
    â”‚                      â”‚                       â”‚                       â”œâ”€â”€ äººå·¥ç¡®è®¤
    â”‚                      â”‚                       â”‚                       â”œâ”€â”€ æ´¾é£å¢æ´
    â”‚                      â”‚                       â”‚                       â”‚
    â”‚   [å¨èƒå‡çº§]          â”‚                       â”‚                       â”‚
    â”‚                      â”œâ”€â”€ è¯·æ±‚å¢æ´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                       â”‚
    â”‚                      â”‚                       â”œâ”€â”€ è°ƒåº¦é™„è¿‘æœºå™¨äºº â”€â”€â”€â”€â”€â”€â”‚
    â”‚                      â”‚  â—€â”€â”€ å¢æ´åˆ°è¾¾ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
    â”‚                      â”‚                       â”‚                       â”‚
    â”‚   [é€šçŸ¥è¢«ä¿æŠ¤äºº]       â”‚                       â”‚                       â”‚
    â”‚  â—€â”€â”€ å®‰å…¨è·¯çº¿å¼•å¯¼ â”€â”€â”€â”€â”€â”¤                       â”‚                       â”‚
    â”‚  â—€â”€â”€ ç´§æ€¥è”ç³»äººé€šçŸ¥ â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
```

---

## 7. éšç§ä¸å®‰å…¨åˆ†æ

### 7.1 æ ¸å¿ƒéšç§æŒ‘æˆ˜

| æŒ‘æˆ˜ | é£é™© | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| **æŒä»“é‡æš´éœ²** | çŸ¥é“è°æœ‰å¤šå°‘å¸ = çŸ¥é“è°å€¼å¾—æ”»å‡» | ZK è¯æ˜ï¼šä»…è¯æ˜"åœ¨æŸç­‰çº§"ï¼Œä¸æš´éœ²å…·ä½“é‡‘é¢ |
| **æ’åæš´éœ²** | Top 10 = æœ€å¤§ç›®æ ‡ | æ’åé“¾ä¸ŠåŠ å¯†å­˜å‚¨ï¼Œä»…ç”¨æˆ·æœ¬äººå’Œæˆæƒæ–¹å¯è§ |
| **ä½ç½®æš´éœ²** | çŸ¥é“å¤§æˆ·åœ¨å“ª = å¯ä»¥ç‰©ç†å®šä½ | ä½ç½®æ•°æ®å…¨ç¨‹åŠ å¯†ï¼Œä»…æˆæƒæœºå™¨äººåœ¨ TEE ä¸­è§£å¯† |
| **ä¿æŠ¤ç­‰çº§æš´éœ²** | S çº§ = æœ€æœ‰é’± | å¯¹å¤–ä»…å±•ç¤º"å·²å—ä¿æŠ¤"ï¼Œä¸å±•ç¤ºç­‰çº§ |
| **èº«ä»½å…³è”** | é“¾ä¸Šåœ°å€ â†’ çœŸäºº | ä½¿ç”¨ç‹¬ç«‹å®ˆæŠ¤èº«ä»½ï¼Œä¸é“¾ä¸Šåœ°å€è§£è€¦ |

### 7.2 é›¶çŸ¥è¯†è¯æ˜æ–¹æ¡ˆ

```
è¯æ˜ç›®æ ‡ï¼š
  "æˆ‘çš„æŒä»“æ’ååœ¨åŒºé—´ [a, b] å†…"
  è€Œä¸æ³„éœ²ï¼šå…·ä½“æ’åã€å…·ä½“æŒä»“é‡ã€è´¦æˆ·åœ°å€

æŠ€æœ¯æ–¹æ¡ˆï¼š
  1. ç”¨æˆ·æœ¬åœ°ç”Ÿæˆ ZK proofï¼ˆGroth16ï¼‰
  2. è¯æ˜è¾“å…¥ï¼šæŒä»“é‡ã€Merkle è·¯å¾„ï¼ˆåœ¨æ’åæ ‘ä¸­çš„ä½ç½®ï¼‰
  3. å…¬å¼€è¾“å‡ºï¼šç­‰çº§å£°æ˜ï¼ˆå¦‚ "Tier A"ï¼‰
  4. éªŒè¯ï¼šæœºå™¨äººæˆ–ä»»ä½•äººå¯åœ¨é“¾ä¸ŠéªŒè¯ proofï¼Œä½†æ— æ³•åæ¨è¾“å…¥
```

### 7.3 èƒè¿«é˜²æŠ¤

**åœºæ™¯ï¼šå¤§æˆ·è¢«ç»‘æ¶ï¼Œè¢«è¿«è½¬ç§»èµ„äº§**

| é˜²æŠ¤æœºåˆ¶ | è¯´æ˜ |
|----------|------|
| **å®‰å…¨è¯** | é¢„è®¾æš—è¯­ï¼Œè¾“å…¥åè¡¨é¢æ­£å¸¸æ“ä½œä½†åå°æŠ¥è­¦ + èµ„äº§å†»ç»“ |
| **ç”Ÿç‰©ç‰¹å¾å¼‚å¸¸** | å¿ƒç‡/å‹åŠ›ä¼ æ„Ÿå™¨æ£€æµ‹åˆ°å¼‚å¸¸ï¼ˆå¦‚æœä½©æˆ´å¯ç©¿æˆ´è®¾å¤‡ï¼‰ |
| **å¤§é¢è½¬å‡ºå»¶è¿Ÿ** | Top 100 çš„å¤§é¢è½¬å‡ºå¼ºåˆ¶ 24 å°æ—¶å»¶è¿Ÿ + å¤šç­¾ç¡®è®¤ |
| **é™é»˜æŠ¥è­¦** | ç‰¹æ®Šæ“ä½œåºåˆ—è§¦å‘æ— å£°æŠ¥è­¦ï¼Œå¯¹æ–¹æ— æ³•å¯Ÿè§‰ |
| **è¯±é¥µé’±åŒ…** | æä¾›å°é¢è¯±é¥µé’±åŒ…åœ°å€ï¼ŒçœŸå®èµ„äº§åœ¨å¤šç­¾å†·é’±åŒ… |

---

## 8. ç»æµæ¨¡å‹

### 8.1 å®ˆæŠ¤è´¹ç”¨

ä¿æŠ¤æœåŠ¡ä¸å…è´¹ï¼Œç”±è¢«ä¿æŠ¤äººæŒ‰ç­‰çº§æ”¯ä»˜æœˆè´¹ï¼ˆä»æŒä»“ä¸­æ‰£é™¤æˆ–å•ç‹¬æ”¯ä»˜ï¼‰ï¼š

| ç­‰çº§ | æœˆè´¹ (COS) | è¯´æ˜ |
|------|-----------|------|
| D | 100 | åŸºç¡€ç›‘æ§ |
| C | 500 | æ ‡å‡†ç›‘æ§ + å·¡é€» |
| B | 2,000 | é«˜çº§ç›‘æ§ + å·¡é€» + æ— äººæœº |
| A | 10,000 | ç²¾è‹±å…¨å¥— + äººç±»å®‰ä¿ |
| S | 50,000 | è‡³å°Šå…¨æ–¹ä½ï¼ˆå¯å®šåˆ¶ï¼‰ |

> è´¹ç”¨å¯ç”±ç¤¾åŒºæ²»ç†æŠ•ç¥¨è°ƒæ•´ã€‚æŒä»“é‡å·¨å¤§çš„ S çº§ç”¨æˆ·ï¼Œæœˆè´¹å æŒä»“æ¯”ä¾‹æå°ã€‚

### 8.2 æœºå™¨äººè¿è¥å•†æ¿€åŠ±

| æ”¶å…¥æ¥æº | è¯´æ˜ |
|----------|------|
| ä»»åŠ¡å®Œæˆå¥–åŠ± | æŒ‰ä»»åŠ¡ç±»å‹å’Œæ—¶é•¿ç»“ç®— |
| SLA è¾¾æ ‡å¥–é‡‘ | å“åº”æ—¶é—´ä¼˜äº SLA æœ‰é¢å¤–å¥–åŠ± |
| è´¨æŠ¼æ”¶ç›Š | æœºå™¨äººè´¨æŠ¼çš„ COS äº§ç”Ÿæ”¶ç›Š |

| æƒ©ç½šé¡¹ | è¯´æ˜ |
|--------|------|
| å¿ƒè·³è¶…æ—¶ | Slash è´¨æŠ¼ 1% |
| ä»»åŠ¡å¤±è´¥ | Slash è´¨æŠ¼ 5% |
| ä¸¥é‡å¤±èŒ | Slash è´¨æŠ¼ 50% + è¸¢å‡ºç½‘ç»œ |

### 8.3 ä¿é™©æœºåˆ¶

- å®ˆæŠ¤è´¹ç”¨çš„ 10% è¿›å…¥ä¿é™©æ± 
- å¦‚æœå› æœºå™¨äºº/ç³»ç»Ÿå¤±èŒå¯¼è‡´ç”¨æˆ·é­å—æŸå¤±ï¼Œä»ä¿é™©æ± èµ”ä»˜
- èµ”ä»˜éœ€æ²»ç†æŠ•ç¥¨é€šè¿‡
- ä¿é™©æ± ç”± DAO ç®¡ç†

---

## 9. æ³•å¾‹ä¸åˆè§„è€ƒé‡

### 9.1 å…³é”®æ³•å¾‹é—®é¢˜

| é—®é¢˜ | åˆ†æ | å¯¹ç­– |
|------|------|------|
| **å®‰ä¿èµ„è´¨** | å¤šæ•°å›½å®¶è¦æ±‚å®‰ä¿æœåŠ¡æŒç‰Œ | ä¸å½“åœ°æŒç‰Œå®‰ä¿å…¬å¸åˆä½œï¼Œæœºå™¨äººä½œä¸º"å·¥å…·" |
| **æœºå™¨äººæ­¦è£…** | æœºå™¨äººæºå¸¦æ­¦å™¨åœ¨å¤§éƒ¨åˆ†åœ°åŒºè¿æ³• | æœºå™¨äººä»…æ‰¿æ‹…ç›‘æ§/å‘Šè­¦/å¨æ…‘åŠŸèƒ½ï¼Œä¸å…·å¤‡æ”»å‡»èƒ½åŠ› |
| **æ•°æ®é‡‡é›†** | ç›‘æ§æ‘„åƒå¤´/ä¼ æ„Ÿå™¨æ¶‰åŠéšç§æ³• | ä»…åœ¨ç”¨æˆ·æˆæƒåŒºåŸŸé‡‡é›†ï¼Œæ•°æ®åŠ å¯†å­˜å‚¨ |
| **è·¨å¢ƒæœåŠ¡** | ä¸åŒå›½å®¶æ³•è§„ä¸åŒ | åˆ†åŒºåŸŸåˆè§„ï¼Œæœ¬åœ°è¿è¥å•†è´Ÿè´£å½“åœ°åˆè§„ |
| **è´£ä»»å½’å±** | æœºå™¨äººæ•…éšœå¯¼è‡´æŸå¤±è°è´Ÿè´£ | è¿è¥å•†æŠ•ä¿ + é“¾ä¸Šä¿é™©æ±  + ç”¨æˆ·æœåŠ¡åè®® |

### 9.2 åˆè§„æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Cosmos Guardian DAO              â”‚  â† å…¨çƒæ²»ç†
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  äºšå¤ªåŒº    â”‚ â”‚  æ¬§æ´²åŒº    â”‚ â”‚  ç¾æ´²åŒº    â”‚ â”‚  â† åŒºåŸŸåˆè§„
â”‚  â”‚  è¿è¥å•†    â”‚ â”‚  è¿è¥å•†    â”‚ â”‚  è¿è¥å•†    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â”‚             â”‚             â”‚         â”‚
â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ å½“åœ°å®‰ä¿ â”‚   â”‚ å½“åœ°å®‰ä¿ â”‚  â”‚ å½“åœ°å®‰ä¿ â”‚    â”‚  â† æŒç‰Œåˆä½œæ–¹
â”‚  â”‚ åˆä½œä¼™ä¼´ â”‚   â”‚ åˆä½œä¼™ä¼´ â”‚  â”‚ åˆä½œä¼™ä¼´ â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 10. é£é™©åˆ†æä¸å¯¹ç­–

### 10.1 ç³»ç»Ÿé£é™©

| é£é™© | å½±å“ | æ¦‚ç‡ | å¯¹ç­– |
|------|------|------|------|
| æœºå™¨äººè¢«é»‘å®¢æ§åˆ¶ | ä¸¥é‡ï¼šä¿æŠ¤å˜å¨èƒ | ä¸­ | TEE ç­¾åéªŒè¯ã€å¼‚å¸¸è¡Œä¸ºè‡ªåŠ¨æ–­è¿ã€ç‰©ç†ç†”æ–­å¼€å…³ |
| é€šä¿¡é“¾è·¯ä¸­æ–­ | é«˜ï¼šæ— æ³•è°ƒåº¦ | ä¸­ | æœºå™¨äººæœ¬åœ° AI ç‹¬ç«‹å†³ç­–èƒ½åŠ›ã€å¤šé“¾è·¯å¤‡ä»½ |
| Oracle æ¶æ„ç¯¡æ”¹ | é«˜ï¼šé”™è¯¯ç­‰çº§åˆ†é… | ä½ | å¤š Oracle å…±è¯†ã€é“¾ä¸Šæ’åå¯å®¡è®¡ |
| æ’åæ“çºµ | ä¸­ï¼šä¸å½“ç­‰çº§ | ä¸­ | 7 å¤©å¿«ç…§æœ€ä½å€¼ã€å…³è”è´¦æˆ·æ£€æµ‹ |
| éšç§æ³„éœ² | ä¸¥é‡ï¼šå¤§æˆ·æˆä¸ºç›®æ ‡ | ä½ | ZK è¯æ˜ã€æ•°æ®å…¨ç¨‹åŠ å¯†ã€æœ€å°åŒ–ä¿¡æ¯æš´éœ² |

### 10.2 ç‰©ç†é£é™©

| é£é™© | å½±å“ | å¯¹ç­– |
|------|------|------|
| æœºå™¨äººè¢«ç‰©ç†ç ´å | ä¸­ | è¿œç¨‹ç›‘æ§ + è‡ªåŠ¨æŠ¥è­¦ + å¤‡ç”¨æœºå™¨äºº |
| å¤§æˆ·åœ°å€è¢«æ¨æ–­ | ä¸¥é‡ | å¤šåœ°å€è½®æ¢æœåŠ¡ã€éšæœºåŒ–è°ƒåº¦ |
| å†…éƒ¨äººå‘˜æ³„å¯† | ä¸¥é‡ | åˆ†çº§æƒé™ã€æ•°æ®è„±æ•ã€æ“ä½œå®¡è®¡ |
| è¯¯æŠ¥å¯¼è‡´ææ…Œ | ä½ | AI é€æ­¥å‡çº§ã€äººå·¥ç¡®è®¤ç¯èŠ‚ |

### 10.3 èœœç½æ•ˆåº”åˆ†æ

**å…³é”®é—®é¢˜ï¼šå…¬å¼€"Top 1000 æœ‰æœºå™¨äººä¿æŠ¤"æ˜¯å¦ä¼šè®©äººçŒœæµ‹è°æ˜¯å¤§æˆ·ï¼Ÿ**

| ç­–ç•¥ | è¯´æ˜ |
|------|------|
| **ä¿æŠ¤èŒƒå›´æ¨¡ç³ŠåŒ–** | å¯¹å¤–åªå®£ä¼ "æ‰€æœ‰ç”¨æˆ·éƒ½äº«æœ‰å®‰å…¨æœåŠ¡"ï¼Œä¸æ Top 1000 |
| **æ™®æƒ åŸºç¡€æœåŠ¡** | æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰åŸºç¡€å‘Šè­¦åŠŸèƒ½ï¼Œä¸åªæ˜¯ Top 1000 |
| **ç­‰çº§å®Œå…¨ä¿å¯†** | é™¤ç”¨æˆ·æœ¬äººå¤–ï¼Œä»»ä½•äººï¼ˆåŒ…æ‹¬è¿è¥å•†ï¼‰ä¸çŸ¥é“å…·ä½“ç­‰çº§ |
| **æœºå™¨äººå¤–è§‚ç»Ÿä¸€** | ä¸åŒç­‰çº§çš„æœºå™¨äººå¤–è§‚ç›¸åŒï¼Œæ— æ³•ä»å¤–è§‚åˆ¤æ–­ç­‰çº§ |
| **æœåŠ¡éšæœºåŒ–** | å¶å°”ä¸ºé Top 1000 ç”¨æˆ·ä¹Ÿè°ƒåº¦æœºå™¨äººï¼ˆå‡è£…ä¿æŠ¤ï¼‰ï¼Œæ··æ·†è§‚å¯Ÿè€… |

---

## 11. å®æ–½è·¯çº¿å›¾

### Phase 1ï¼šé“¾ä¸ŠåŸºç¡€ï¼ˆ6 å‘¨ï¼‰

| ä»»åŠ¡ | ä¼˜å…ˆçº§ | ä¾èµ– |
|------|--------|------|
| å®ç° `guardian-registry` æŒä»“æ’åå’Œç­‰çº§è®¡ç®— | P0 | aegis-common |
| å®ç° `guardian-credential` ZK ä¿æŠ¤å‡­è¯ | P0 | privacy-credential |
| èƒè¿«å®‰å…¨è¯åŠŸèƒ½ | P0 | guardian-registry |
| å¤§é¢è½¬å‡ºå»¶è¿Ÿæœºåˆ¶ | P0 | guardian-registry |
| å•å…ƒæµ‹è¯• | P0 | ä¸Šè¿°å…¨éƒ¨ |

**é‡Œç¨‹ç¢‘ï¼š** é“¾ä¸Šå¯è‡ªåŠ¨è®¡ç®— Top 1000 æ’åå’Œä¿æŠ¤ç­‰çº§ï¼Œç”¨æˆ·å¯ç”Ÿæˆ ZK ä¿æŠ¤å‡­è¯ã€‚

### Phase 2ï¼šè°ƒåº¦ä¸æ¡¥æ¥ï¼ˆ6-8 å‘¨ï¼‰

| ä»»åŠ¡ | ä¼˜å…ˆçº§ | ä¾èµ– |
|------|--------|------|
| å®ç° `guardian-dispatch` æœºå™¨äººæ³¨å†Œå’Œä»»åŠ¡è°ƒåº¦ | P1 | common |
| å¼€å‘ Guardian Bridgeï¼ˆé“¾ä¸Š â†” é“¾ä¸‹é€šä¿¡ï¼‰ | P1 | dispatch |
| å®ç° `guardian-audit` äº‹ä»¶å­˜è¯ | P1 | common |
| MQTT é€šä¿¡åè®®å¯¹æ¥ | P1 | Bridge |
| æœºå™¨äººèº«ä»½éªŒè¯æµç¨‹ | P1 | credential, Bridge |

**é‡Œç¨‹ç¢‘ï¼š** æœºå™¨äººå¯æ³¨å†Œä¸Šé“¾ï¼Œä»»åŠ¡å¯è‡ªåŠ¨è°ƒåº¦ï¼ŒåŸºç¡€é€šä¿¡é“¾è·¯æ‰“é€šã€‚

### Phase 3ï¼šæœºå™¨äººé›†æˆï¼ˆ8-12 å‘¨ï¼‰

| ä»»åŠ¡ | ä¼˜å…ˆçº§ | ä¾èµ– |
|------|--------|------|
| ROS2 æ¥å£é€‚é… | P2 | Bridge |
| ç›‘æ§å‹æœºå™¨äººï¼ˆSentinelï¼‰é›†æˆ | P2 | dispatch, ROS2 |
| å·¡é€»å‹æœºå™¨äººï¼ˆPatrolï¼‰é›†æˆ | P2 | dispatch, ROS2 |
| æ— äººæœºï¼ˆDroneï¼‰é›†æˆ | P2 | dispatch, ROS2 |
| ç´§æ€¥å“åº”åè®®å®ç° | P2 | dispatch, audit |
| å®‰ä¿è¿è¥ä¸­å¿ƒï¼ˆSOCï¼‰æ­å»º | P2 | å…¨éƒ¨ |

**é‡Œç¨‹ç¢‘ï¼š** åŸºç¡€æœºå™¨äººä¿æŠ¤æœåŠ¡å¯ç”¨ï¼ˆD/C ç­‰çº§ï¼‰ï¼Œç´§æ€¥å“åº”æµç¨‹è·‘é€šã€‚

### Phase 4ï¼šé«˜çº§èƒ½åŠ›ï¼ˆæŒç»­è¿­ä»£ï¼‰

| ä»»åŠ¡ | ä¼˜å…ˆçº§ | ä¾èµ– |
|------|--------|------|
| æŠ¤å«å‹æœºå™¨äººï¼ˆGuardianï¼‰é›†æˆ | P3 | Phase 3 |
| å¯ç©¿æˆ´è®¾å¤‡å¯¹æ¥ï¼ˆå¿ƒç‡/å‹åŠ›ï¼‰ | P3 | Bridge |
| AI å¨èƒé¢„æµ‹ï¼ˆç»“åˆ Aegis brainï¼‰ | P3 | aegis-brain |
| ä¿é™©æ±  DAO æ²»ç† | P3 | ç»æµæ¨¡å‹ |
| åŒºåŸŸè¿è¥å•†å…¥é©»ç³»ç»Ÿ | P3 | æ³•å¾‹åˆè§„å°±ç»ª |
| å¤šåŒºåŸŸè·¨å¢ƒåè°ƒ | P3 | è¿è¥å•†ç½‘ç»œ |

---

## é™„å½• Aï¼šç›®å½•ç»“æ„

```
pallets/aegis/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ AEGIS_MODULE_DESIGN.md        # AI è‡ªæˆ‘è¿›åŒ–é˜²å¾¡è®¾è®¡
â”‚   â””â”€â”€ ROBOT_GUARDIAN_DESIGN.md      # æœ¬æ–‡æ¡£ï¼šå®ä½“å®ˆæŠ¤è€…è®¾è®¡
â”œâ”€â”€ common/                            # å…¬å…±ç±»å‹ï¼ˆå·²æœ‰ï¼‰
â”œâ”€â”€ sensor/                            # è¡Œä¸ºæ„ŸçŸ¥ï¼ˆå·²æœ‰ï¼‰
â”œâ”€â”€ oracle/                            # AI é¢„è¨€æœºï¼ˆå·²æœ‰ï¼‰
â”œâ”€â”€ brain/                             # å†³ç­–å¼•æ“ï¼ˆå·²æœ‰ï¼‰
â”œâ”€â”€ shield/                            # é˜²å¾¡æ‰§è¡Œï¼ˆå·²æœ‰ï¼‰
â””â”€â”€ guardian/                          # ğŸ†• å®ä½“å®ˆæŠ¤è€…
    â”œâ”€â”€ README.md
    â”œâ”€â”€ registry/                      # æŒä»“æ’å & ç­‰çº§
    â”‚   â”œâ”€â”€ Cargo.toml
    â”‚   â””â”€â”€ src/
    â”œâ”€â”€ credential/                    # ZK ä¿æŠ¤å‡­è¯
    â”‚   â”œâ”€â”€ Cargo.toml
    â”‚   â””â”€â”€ src/
    â”œâ”€â”€ dispatch/                      # æœºå™¨äººè°ƒåº¦
    â”‚   â”œâ”€â”€ Cargo.toml
    â”‚   â””â”€â”€ src/
    â””â”€â”€ audit/                         # å®¡è®¡å­˜è¯
        â”œâ”€â”€ Cargo.toml
        â””â”€â”€ src/
```

## é™„å½• Bï¼šä¸ç°æœ‰æ¨¡å—é›†æˆç‚¹

| ç°æœ‰æ¨¡å— | é›†æˆæ–¹å¼ | è¯´æ˜ |
|----------|---------|------|
| `aegis-sensor` | æŒä»“å˜åŠ¨äº‹ä»¶é‡‡é›† | ç›‘æ§ Top 1000 çš„èµ„äº§å˜åŠ¨ |
| `aegis-brain` | AI å¨èƒè¯„ä¼° | ç»“åˆé“¾ä¸Šè¡Œä¸ºåˆ¤æ–­æ˜¯å¦è¢«èƒè¿« |
| `aegis-shield` | èµ„äº§å†»ç»“æ‰§è¡Œ | èƒè¿«è§¦å‘æ—¶å†»ç»“èµ„äº§ |
| `privacy-credential` | ZK å‡­è¯åŸºç¡€è®¾æ–½ | å¤ç”¨é›¶çŸ¥è¯†è¯æ˜æ¡†æ¶ |
| `privacy-keystore` | åŠ å¯†é€šä¿¡å¯†é’¥ | ç”¨æˆ·ä¸æœºå™¨äººé—´çš„ç«¯åˆ°ç«¯åŠ å¯† |
| `affiliate-referral` | æ¨èå…³ç³» | è¯†åˆ«å…³è”è´¦æˆ·é˜²æ­¢æ’åæ“çºµ |
| `entity-kyc` | èº«ä»½éªŒè¯ | å®ˆæŠ¤è€…æ³¨å†Œéœ€ KYC |

## é™„å½• Cï¼šå…³é”®æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | è¯´æ˜ |
|------|--------|------|
| æ’åæ›´æ–°å»¶è¿Ÿ | < 1 å¤© | æŒä»“å˜åŠ¨åˆ°ç­‰çº§æ›´æ–°çš„å»¶è¿Ÿ |
| å‡­è¯éªŒè¯æ—¶é—´ | < 2 ç§’ | ZK proof é“¾ä¸ŠéªŒè¯æ—¶é—´ |
| æœºå™¨äººå¿ƒè·³é—´éš” | 30 ç§’ | å¿ƒè·³è¶…æ—¶é˜ˆå€¼ = 3 åˆ†é’Ÿ |
| ç´§æ€¥å“åº”æ—¶é—´ | < SLA å®šä¹‰ | æŒ‰ç­‰çº§åŒºåˆ† |
| ç³»ç»Ÿå¯ç”¨æ€§ | 99.9% | æ ¸å¿ƒè°ƒåº¦é“¾è·¯ |
| è¯¯æŠ¥ç‡ | < 5% | å¨èƒæ£€æµ‹è¯¯æŠ¥ |
